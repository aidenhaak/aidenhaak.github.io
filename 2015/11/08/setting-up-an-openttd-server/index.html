<!doctype html><html lang=en>
<head>
<meta name=description content="I recently setup an OpenTTD server and I thought I might document the steps I took to do so.">
<meta name=HandheldFriendly content="True">
<meta name=MobileOptimized content="320">
<meta name=viewport content="width=device-width,minimum-scale=1">
<meta charset=utf-8>
<title>Aiden Haak | Setting Up An OpenTTD Server</title><link rel=preload href=../../../../fonts/ZillaSlab-SemiBold.ttf as=font crossorigin=anonymous>
<link rel=preload href=../../../../fonts/ZillaSlab-Bold.ttf as=font crossorigin=anonymous>
<link rel=preload href=../../../../fonts/FiraSans-Regular.ttf as=font crossorigin=anonymous>
<link rel=preload href=../../../../fonts/FiraSans-Italic.ttf as=font crossorigin=anonymous>
<link rel=preload href=../../../../fonts/FiraSans-BoldItalic.ttf as=font crossorigin=anonymous>
<link rel=preload href=../../../../fonts/FiraSans-Bold.ttf as=font crossorigin=anonymous>
<link rel=preload href=../../../../fonts/FiraMono-Regular.ttf as=font crossorigin=anonymous>
<link rel=stylesheet href=../../../../scss/main.min.2c4f01e1ed36dc6f7795b45043aa077420f08ffea1ca2c2d6a7c0637662c7fa1.css><meta property="og:title" content="Setting Up An OpenTTD Server">
<meta property="og:description" content="I recently setup an OpenTTD server and I thought I might document the steps I took to do so.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.aidenhaak.com/2015/11/08/setting-up-an-openttd-server/"><meta property="og:image" content="https://www.aidenhaak.com/images/openttd-multi-screen.jpg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2015-11-08T00:00:00+00:00">
<meta property="article:modified_time" content="2015-11-08T00:00:00+00:00">
<meta itemprop=name content="Setting Up An OpenTTD Server">
<meta itemprop=description content="I recently setup an OpenTTD server and I thought I might document the steps I took to do so."><meta itemprop=datePublished content="2015-11-08T00:00:00+00:00">
<meta itemprop=dateModified content="2015-11-08T00:00:00+00:00">
<meta itemprop=wordCount content="543"><meta itemprop=image content="https://www.aidenhaak.com/images/openttd-multi-screen.jpg">
<meta itemprop=keywords content><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://www.aidenhaak.com/images/openttd-multi-screen.jpg">
<meta name=twitter:title content="Setting Up An OpenTTD Server">
<meta name=twitter:description content="I recently setup an OpenTTD server and I thought I might document the steps I took to do so.">
</head><body>
<div class=footer-wrapper>
<header>
<div class=container>
<h1 class=site-title>
<a href=../../../../>Aiden Haak</a>
</h1><nav>
<ul>
<li>
<a href=../../../../about title="About page">
About
</a>
</li></ul></nav><ul class=social>
<li>
<a href=https://twitter.com/aidenhaak title=Twitter><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717.0-4.92 2.203-4.92 4.917.0.39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475.0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314.0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39.0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054.0 13.999-7.496 13.999-13.986.0-.209.0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>
</a>
</li><li>
<a href=https://github.com/aidenhaak/ title=GitHub><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
</a>
</li><li>
<a href=../../../../index.xml title="Atom Feed"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.199 24C19.199 13.467 10.533 4.8.0 4.8V0c13.165.0 24 10.835 24 24h-4.801zM3.291 17.415c1.814.0 3.293 1.479 3.293 3.295.0 1.813-1.485 3.29-3.301 3.29C1.47 24 0 22.526.0 20.71s1.475-3.294 3.291-3.295zM15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727.0 15.909 7.184 15.909 15.91z"/></svg>
</a>
</li></ul></div></header><div class="content container">
<main aria-role=main>
<article>
<h1 class=post-title>Setting Up An OpenTTD Server</h1><span class=post-date>November 8, 2015</span>
<p><em>Update: Check out <a href=https://www.aidenhaak.com/2021/01/29/setting-up-an-openttd-server-part-2/>part two</a> for a more up to date guide.</em></p><p>I recently setup an <a href=https://www.openttd.org/en/>OpenTTD</a> server and I thought I might document the steps I took to do so.</p><p>I choose to use a <a href=https://www.digitalocean.com/>Digital Ocean</a> (DO) to host my server since I&rsquo;ve been wanting to try them out for some time. It also helps that their cheapest hosting option is rather cheap - only $5 per month. And since I don&rsquo;t think OpenTTD will be particularily memory intensive I am fairly certain that the extra 512MB of RAM for the $10 per month DO droplet will be needed.</p><p>After creating my $5 per month droplet running <em>Ubuntu 14.04 LTS</em> I followed DO&rsquo;s handy <a href=https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-14-04>initial server setup</a> to get my server ready for installing OpenTTD.</p><h2 id=installing-openttd>Installing OpenTTD</h2><p>The first step to installing OpenTTD is downloading it:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://binaries.openttd.org/releases/1.5.2/openttd-1.5.2-linux-ubuntu-trusty-amd64.deb</span></span></code></pre></div><p>Then to install OpenTTD and it&rsquo;s dependencies:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo dpkg -i openttd-1.5.2-linux-ubuntu-trusty-amd64.deb
</span></span><span style=display:flex><span>sudo apt-get -f install</span></span></code></pre></div><h2 id=installing-graphics>Installing Graphics</h2><p>Before you can kick off your OpenTTD server you need to install some graphics. If you don&rsquo;t have your original Transport Tycoon Deluxe CDs handy the bare minimum for this is to download <a href=http://dev.openttdcoop.org/projects/opengfx>OpenGFX</a> which provides free replacements for the game&rsquo;s graphics. To install it:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://binaries.openttd.org/extra/opengfx/0.5.2/opengfx-0.5.2-all.zip
</span></span><span style=display:flex><span>unzip opengfx-0.5.2-all.zip
</span></span><span style=display:flex><span>tar -xvf opengfx-0.5.2.tar
</span></span><span style=display:flex><span>mv opengfx-0.5.2 ~/.openttd/baseset</span></span></code></pre></div><h2 id=adding-an-openttd-service>Adding An OpenTTD Service</h2><p>With OpenTTD installed one of the last steps is to setup an OpenTTD service. Luckily for us, <a href=https://bitbucket.org/frodus/>Frodus</a> has kindly created an OpenTTD init script <a href=https://bitbucket.org/frodus/openttd-init/wiki/Home>available here</a>.</p><p>First we need to download and unzip it:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://bitbucket.org/frodus/openttd-init/downloads/openttd-init-1.1.1.zip
</span></span><span style=display:flex><span>unzip openttd-init-1.1.1.zip -d openttd-init</span></span></code></pre></div><p>Then we need to add a symlink of the openttd file to <code>/etc/init.d</code>, update its permissions and add the OpenTTD service to the Ubuntu startup scripts.</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ln -s ~/openttd-init/openttd /etc/init.d/openttd
</span></span><span style=display:flex><span>chmod <span style=color:#ae81ff>755</span>  ~/openttd-init/openttd
</span></span><span style=display:flex><span>sudo update-rc.d openttd defaults</span></span></code></pre></div><p>Finally rename <code>~/openttd-init/config.example</code> to <code>config</code> and edit the variables to suitable values.</p><h2 id=openttd-configuration>OpenTTD Configuration</h2><p>The last step before starting to play is setting up the <code>openttd.cfg</code> file - a list of the available options is on the <a href=https://wiki.openttd.org/Openttd.cfg>OpenTTD wiki</a>. A good overview of what options to change is also available on the <a href=https://wiki.openttdcoop.org/Map_Preparation>OpenTTD Coop Wiki</a>.</p><p>One setting of great importance is the <code>sever_port</code> (default value 3979) setting. Whatever option you choose, make sure to add a firewall rule. If you are using the default Ubuntu firewall <code>ufw</code> it is as simple as:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ufw allow 3979/tcp
</span></span><span style=display:flex><span>sudo ufw reload</span></span></code></pre></div><p><code>iptables</code> configuration is left as an exercise to the reader.</p><p>Some of the other settings I like to change are:</p><ul>
<li><a href=https://wiki.openttd.org/Min_active_clients><code>min_active_clients</code></a> set this to 1 so the game is paused when noone is connected.</li><li><a href=https://wiki.openttd.org/Inflation><code>inflation</code></a> set this to false since after a while money is no object.</li><li><a href=https://wiki.openttd.org/Forbid_90_deg><code>forbid_90_deg</code></a> set this to false as 90 degree turns are ugly.</li><li><a href=https://wiki.openttd.org/Train_acceleration_model><code>train_acceleration_model</code></a> set this to realistic otherwise slopes will seriously slow your trains down.</li><li><a href=https://wiki.openttd.org/Vehicle_breakdowns><code>vehicle_breakdowns</code></a> breakdowns are annoying so no breakdowns please.</li><li><a href=https://wiki.openttd.org/No_servicing_if_no_breakdowns><code>no_servicing_if_no_breakdowns</code></a> no servicing when there are no breakdowns.</li></ul><h2 id=joining-your-server>Joining Your Server</h2><p>Once you have setup your config it&rsquo;s finally time to fire up your OpenTTD server:</p><div class=highlight><pre tabindex=0 style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo service openttd start</span></span></code></pre></div><p>To join your server in the Multiplayer settings window click the <em>Add Server</em> button and add your server with the port number like so:</p><p>And after joining you should be greeted with your shiny new OpenTTD game. Happy network building!</p></article><div class=post-comments>
<div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//aidenhaak.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
</div></main><div class=footer-push></div></div></div><footer>
<div class=container>
<p class=copyright>© 2013-2022 Aiden Haak – Powered by <a href=https://gohugo.io/>Hugo</a></p></div></footer></body></html>